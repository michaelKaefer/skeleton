(this.webpackJsonpspa=this.webpackJsonpspa||[]).push([[0],{103:function(e,a,t){e.exports=t(137)},108:function(e,a,t){},113:function(e,a,t){},118:function(e,a,t){},132:function(e,a,t){},133:function(e,a,t){},135:function(e,a,t){},136:function(e,a,t){},137:function(e,a,t){"use strict";t.r(a);var n=t(27),r=t(0),l=t.n(r),o=t(77),c=t.n(o),s=(t(108),t(10)),i=t.n(s),u=t(23),m=t(99),d=t(26),p=t(41);t(110),t(113);function h(){var e=Object(p.h)().locale;if(void 0===e)throw Error("The current route does not contain a locale parameter.");return document.documentElement.lang=e,null}t(118);var g=t(60),_=t(61),E=t(22),b=t(101),f=Object(r.createContext)();function v(e){var a=e.routing,t=Object(p.h)().locale,o=Object(E.b)(),c=o.t,s=o.i18n,i=Object(r.useContext)(f),u=i.user,m=i.logoutUser;return l.a.createElement("nav",{className:"navbar navbar-expand-lg fixed-top navbar-light bg-white px-md-5"},l.a.createElement("a",{className:"navbar-brand ml-lg-3 px-md-5",href:"/"},"Skeleton"),l.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarMenu","aria-controls":"navbarMenu","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{className:"navbar-toggler-icon"})),l.a.createElement("div",{className:"collapse navbar-nav navbar-collapse d-lg-flex justify-content-end",id:"navbarMenu"},l.a.createElement("div",{className:"nav-item dropdown"},l.a.createElement("button",{className:"btn btn-link nav-link dropdown-toggle",id:"languageSelector","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},c("header__choose_language")),l.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"languageSelector"},Object(n.a)(a.supportedLocales).map((function(e){return l.a.createElement(d.b,{key:e,className:"dropdown-item",to:"/".concat(e,"/"),onClick:function(){return s.changeLanguage(e)}},b.a.getNativeName(e),"  ",l.a.createElement("small",null,e))})))),l.a.createElement("div",{className:"account nav-item dropdown px-md-5"},l.a.createElement("a",{className:"nav-link dropdown-toggle",href:"###",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},u?u.firstName:""," ",u?u.lastName:"","\xa0\xa0",l.a.createElement(g.a,{icon:_.c})),l.a.createElement("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown"},l.a.createElement(d.b,{className:"dropdown-item",to:a.getRelativeUrl(t,"profile")},c("header__profile")),l.a.createElement("a",{className:"dropdown-item",href:"###"},c("header__admin_area")),l.a.createElement("div",{className:"dropdown-divider"}),l.a.createElement(d.b,{className:"dropdown-item",to:"/".concat(t,"/"),onClick:function(){return m()}},c("header__logout"))))))}t(132);function N(){return l.a.createElement("footer",{className:""},l.a.createElement("hr",null),l.a.createElement("div",{className:"container py-4"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-6 col-md"},l.a.createElement("h5",null,"Information"),l.a.createElement("ul",{className:"list-unstyled text-small"},l.a.createElement("li",null,l.a.createElement("a",{className:"_text-muted",href:"/#"},"Contact")),l.a.createElement("li",null,l.a.createElement("a",{className:"_text-muted",href:"/#"},"Shipping Terms")),l.a.createElement("li",null,l.a.createElement("a",{className:"_text-muted",href:"/#"},"Legal Notice")),l.a.createElement("li",null,l.a.createElement("a",{className:"_text-muted",href:"/#"},"Data Policy")),l.a.createElement("li",null,l.a.createElement("a",{className:"_text-muted",href:"/#"},"Imprint")),l.a.createElement("li",null,l.a.createElement("a",{className:"_text-muted",href:"/#"},"Payment")),l.a.createElement("li",null,l.a.createElement("a",{className:"_text-muted",href:"/#"},"Withdrawal")),l.a.createElement("li",null,l.a.createElement("a",{className:"_text-muted",href:"/#"},"About Us")))),l.a.createElement("div",{className:"col-6 col-md"},l.a.createElement("h5",null,"Landingpages"),l.a.createElement("ul",{className:"list-unstyled text-small"},l.a.createElement("li",null,l.a.createElement("a",{className:"_text-muted",href:"/#"},"My Landingpage")),l.a.createElement("li",null,l.a.createElement("a",{className:"_text-muted",href:"/#"},"My Other Landingpage")),l.a.createElement("li",null,l.a.createElement("a",{className:"_text-muted",href:"/#"},"My Final Landingpage")))),l.a.createElement("div",{className:"col-6 col-md"},l.a.createElement("h5",null,"Account"),l.a.createElement("ul",{className:"list-unstyled text-small"},l.a.createElement("li",null,l.a.createElement("a",{className:"_text-muted",href:"/#"},"Your Orders")),l.a.createElement("li",null,l.a.createElement("a",{className:"_text-muted",href:"/#"},"Your Addresses")),l.a.createElement("li",null,l.a.createElement("a",{className:"_text-muted",href:"/#"},"Your Personal Data")),l.a.createElement("li",null,l.a.createElement("a",{className:"_text-muted",href:"/#"},"Your Treuebonus")))),l.a.createElement("div",{className:"col-6 col-md"},l.a.createElement("h5",null,"Payment Methods"),l.a.createElement("ul",{className:"list-unstyled text-small"},l.a.createElement("li",null,l.a.createElement("a",{className:"_text-muted",href:"/#"},"Klarna")),l.a.createElement("li",null,l.a.createElement("a",{className:"_text-muted",href:"/#"},"Invoice")),l.a.createElement("li",null,l.a.createElement("a",{className:"_text-muted",href:"/#"},"SOFORT")),l.a.createElement("li",null,l.a.createElement("a",{className:"_text-muted",href:"/#"},"mastercard")),l.a.createElement("li",null,l.a.createElement("a",{className:"_text-muted",href:"/#"},"Visa")),l.a.createElement("li",null,l.a.createElement("a",{className:"_text-muted",href:"/#"},"maestro")),l.a.createElement("li",null,l.a.createElement("a",{className:"_text-muted",href:"/#"},"PayPal")),l.a.createElement("li",null,l.a.createElement("a",{className:"_text-muted",href:"/#"},"Amazon Pay")),l.a.createElement("li",null,l.a.createElement("a",{className:"_text-muted",href:"/#"},"Vorkasse")))))),l.a.createElement("hr",null),l.a.createElement("div",{className:"container pb-3 text-muted"},l.a.createElement("span",null,l.a.createElement("a",{className:"_text-muted",href:"/#"},"Imprint")),l.a.createElement("span",null," | "),l.a.createElement("span",null,l.a.createElement("a",{className:"_text-muted",href:"/#"},"Legal Notice")),l.a.createElement("span",null," | "),l.a.createElement("span",null,l.a.createElement("a",{className:"_text-muted",href:"/#"},"Data Policy"))))}function x(){return l.a.createElement("div",{className:"login card shadow"},l.a.createElement("div",{className:"card-body"},l.a.createElement("h1",{className:"h5 card-title"},"not found"),l.a.createElement("p",null,"!!!")))}function w(e){var a=e.routing,t=Object(p.h)().locale,n=Object(r.useContext)(f).user;return l.a.createElement("div",{className:"content"},l.a.createElement(p.d,null,Object.keys(a.routes).map((function(e){return null===a.routes[e].authorizedRoles||n&&n.roles.some((function(t){return a.routes[e].authorizedRoles.includes(t)}))?l.a.createElement(p.b,{key:e,path:a.getPathRegex(e)},l.a.createElement(a.routes[e].component,{routing:a})):l.a.createElement(p.b,{key:e,path:a.getPathRegex(e)},l.a.createElement(p.a,{to:a.getRelativeUrl(t,"login")}))})),l.a.createElement(p.b,{path:a.getHomeRegex()},l.a.createElement(p.a,{to:"/".concat(t,"/login")})),l.a.createElement(p.b,null,l.a.createElement(x,null))))}var y=Object(E.c)("common")((function(e){var a=e.routing,t=Object(r.useState)(null!==localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):null),o=Object(m.a)(t,2),c=o[0],s=o[1];function g(){return(g=Object(u.a)(i.a.mark((function e(a){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://127.0.0.1:3000/en/logout",{method:"GET"});case 3:t=e.sent,e.next=10;break;case 6:return e.prev=6,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return");case 10:if(200===t.status){e.next=13;break}return console.error(t),e.abrupt("return");case 13:localStorage.removeItem("user"),s(null),console.log("Logged out");case 16:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}return l.a.createElement(f.Provider,{value:{user:c,loginUser:function(e){localStorage.setItem("user",JSON.stringify(e)),s(e)},logoutUser:function(e){return g.apply(this,arguments)},updateUser:function(e){localStorage.setItem("user",JSON.stringify(e)),s(e)}}},l.a.createElement(d.a,null,l.a.createElement(p.d,null,l.a.createElement(p.b,{path:"/:locale(".concat(Object(n.a)(a.supportedLocales).join("|"),")")},l.a.createElement(h,null),l.a.createElement("div",{className:"App container-fluid p-0"},l.a.createElement(v,{routing:a}),l.a.createElement("main",{className:"container"},l.a.createElement(w,{routing:a})),l.a.createElement(N,null))),l.a.createElement(p.b,null,l.a.createElement(p.a,{to:"/".concat(a.defaultLocale,"/")})))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var j=t(84),O=t(24),k=t(34),S=(t(133),t(139)),L=t(140),R=t(141),P=t(31),q=t(29),U=(t(135),t(82)),A=t.n(U),C=t(97),F=t.n(C).a.mixin({customClass:{confirmButton:"btn btn-primary",cancelButton:"btn btn-danger"},buttonsStyling:!1}),I=new(function(){function e(){Object(O.a)(this,e)}return Object(k.a)(e,[{key:"success",value:function(e){A()(F).fire({title:l.a.createElement(g.a,{className:"text-success",icon:_.a}),html:e,showConfirmButton:!1,timer:1e3})}},{key:"error",value:function(e){A()(F).fire({title:l.a.createElement(g.a,{className:"text-danger",icon:_.b}),html:e})}}]),e}()),T=t(100),M=t(138);function D(e){var a=e.isDisabled,t=e.isLoading,n=e.label;return l.a.createElement(T.a,{type:"submit",disabled:t||a},t?l.a.createElement("span",{style:{paddingRight:"3px"}},l.a.createElement(M.a,{as:"span",animation:"border",size:"sm",role:"status","aria-hidden":"true",style:{borderWidth:"0.12em",position:"relative",marginRight:"9px"}}),l.a.createElement("span",null,"Loading...")):l.a.createElement("span",null,n))}var z=t(102);function B(e){var a=e.name,t=e.type,n=e.hasError,r=e.label,o=void 0!==r&&r,c=e.isRequired,s=void 0!==c&&c,i=e.placeholder,u=void 0===i?"":i,m=e.autoFocus,d=void 0!==m&&m;return l.a.createElement(z.a,null,!1!==o?l.a.createElement("label",{htmlFor:a,className:s?"required":""},o):null,l.a.createElement(q.b,{id:a,type:t,name:a,className:"form-control".concat(n?" error":""),placeholder:u,autoFocus:d}),n?l.a.createElement(q.a,{className:"error-message",name:a,component:"div"}):null)}var J=t(86),H=t(63),V=t(83),G=t(85),W=function(e){function a(e){var t;return Object(O.a)(this,a),(t=Object(J.a)(this,Object(H.a)(a).call(this,e))).name="BadRequestError",t}return Object(V.a)(a,e),a}(Object(G.a)(Error)),Y=function(e){function a(e){var t;return Object(O.a)(this,a),(t=Object(J.a)(this,Object(H.a)(a).call(this,e))).name="UnauthorizedError",t}return Object(V.a)(a,e),a}(Object(G.a)(Error)),Z=new(function(){function e(){Object(O.a)(this,e)}return Object(k.a)(e,[{key:"get",value:function(){var e=Object(u.a)(i.a.mark((function e(a){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(a,{method:"GET",headers:{"Content-Type":"application/json"}});case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(0),console.error(e.t0),e.t0;case 13:return this.throwHttpErrors(t,n),e.abrupt("return",{response:t,payload:n});case 15:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(a){return e.apply(this,arguments)}}()},{key:"patch",value:function(){var e=Object(u.a)(i.a.mark((function e(a,t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(a,{method:"PATCH",headers:{"Content-Type":"application/merge-patch+json"},body:JSON.stringify(t)});case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(0),console.error(e.t0),e.t0;case 13:return this.throwHttpErrors(n,r),e.abrupt("return",{response:n,payload:r});case 15:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(a,t){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=Object(u.a)(i.a.mark((function e(a,t){var n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,e.next=13;break;case 9:throw e.prev=9,e.t0=e.catch(0),console.error(e.t0),e.t0;case 13:return this.throwHttpErrors(n,r),e.abrupt("return",{response:n,payload:r});case 15:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(a,t){return e.apply(this,arguments)}}()},{key:"throwHttpErrors",value:function(e,a){if(!e.ok)switch(console.error(e,a),e.status){case 400:throw new W("Status code is 400.");case 401:throw new Y("Status code is 401.");default:throw new Error("Status code does not match 2xx.")}}}]),e}());function K(){var e=Object(E.b)().t,a=Object(r.useContext)(f),t=a.user,n=a.updateUser,o=P.a().shape({email:P.b().email("Must be a valid email address").max(100,"Email must be less than 100 characters").required("An email is required"),firstName:P.b().required("A first name is required"),lastName:P.b().required("A last name is required")}),c=function(){var a=Object(u.a)(i.a.mark((function a(r,l){var o,c,s;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o="".concat("https://127.0.0.1:8000").concat(t["@id"]),a.prev=1,a.next=4,Z.patch(o,r);case 4:c=a.sent,s=c.payload,n(s),I.success(e("success__updated")),a.next=14;break;case 10:a.prev=10,a.t0=a.catch(1),l.setSubmitting(!1),I.error(e("errors__unknown"));case 14:case"end":return a.stop()}}),a,null,[[1,10]])})));return function(e,t){return a.apply(this,arguments)}}(),s=l.a.createElement(q.d,{initialValues:{email:t.email,firstName:t.firstName,lastName:t.lastName},onSubmit:c,validationSchema:o},(function(a){return l.a.createElement(q.c,null,l.a.createElement(B,{name:"email",type:"email",label:e("login__email_label"),hasError:a.touched.email&&a.errors.email,isRequired:!0,placeholder:"john.doe@example.com",autoFocus:!0}),l.a.createElement(S.a,null,l.a.createElement(L.a,null,l.a.createElement(B,{name:"firstName",type:"text",label:e("login__first_name_label"),hasError:a.touched.firstName&&a.errors.firstName,isRequired:!0,placeholder:"John"})),l.a.createElement(L.a,null,l.a.createElement(B,{name:"lastName",type:"text",label:e("login__last_name_label"),hasError:a.touched.lastName&&a.errors.lastName,isRequired:!0,placeholder:"Doe"}))),l.a.createElement(D,{isDisabled:Object.keys(a.errors).length,isLoading:a.isSubmitting,label:e("profile__save_button_label")}))}));return l.a.createElement(R.a,{className:"main-page-content shadow"},l.a.createElement(R.a.Body,null,l.a.createElement("h1",{className:"h5 card-title"},e("profile__heading")),s))}t(136);function $(e){var a=e.routing,t=Object(p.h)().locale,n=Object(E.b)().t,o=Object(r.useContext)(f).loginUser,c=Object(p.g)(),s=P.a().shape({email:P.b().email("Must be a valid email address").max(100,"Email must be less than 100 characters").required("An email is required"),password:P.b().min(6,"Password must have at least 6 characters").required("A password is required")}),m=function(){var e=Object(u.a)(i.a.mark((function e(r,l){var s,u,m,d,p,h;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z.post("https://127.0.0.1:3000/en/api-login",r);case 3:u=e.sent,m=u.payload,s=m.Location,e.next=12;break;case 8:return e.prev=8,e.t0=e.catch(0),"UnauthorizedError"===e.t0.name?(l.setSubmitting(!1),I.error(n("errors__invalid_credentials"))):(l.setSubmitting(!1),I.error(n("errors__unknown"))),e.abrupt("return");case 12:return d="".concat("https://127.0.0.1:8000").concat(s),e.prev=13,e.next=16,Z.get(d);case 16:p=e.sent,h=p.payload,o(h),l.setSubmitting(!1),I.success(n("success__login")),c.push(a.getRelativeUrl(t,"profile")),e.next=28;break;case 24:e.prev=24,e.t1=e.catch(13),l.setFieldError("submitFailure",n("errors__unknown")),l.setSubmitting(!1);case 28:case"end":return e.stop()}}),e,null,[[0,8],[13,24]])})));return function(a,t){return e.apply(this,arguments)}}(),d=l.a.createElement(q.d,{initialValues:{email:"admin@example.com",password:"123123"},onSubmit:m,validationSchema:s},(function(e){return l.a.createElement(q.c,null,l.a.createElement(B,{name:"email",type:"email",label:n("login__email_label"),hasError:e.touched.email&&e.errors.email,isRequired:!0,placeholder:"john.doe@example.com",autoFocus:!0}),l.a.createElement(B,{name:"password",type:"password",label:n("login__password_label"),hasError:e.touched.password&&e.errors.password,isRequired:!0}),l.a.createElement(D,{isDisabled:Object.keys(e.errors).length,isLoading:e.isSubmitting,label:n("login__login_button_label")}))}));return l.a.createElement(R.a,{className:"main-page-content shadow"},l.a.createElement(R.a.Body,null,l.a.createElement("h1",{className:"h5 card-title"},n("login__heading")),l.a.createElement("p",null,l.a.createElement("a",{href:"/#"},n("login__go_to_registration"))),d,l.a.createElement("p",{className:"mt-2"},l.a.createElement("a",{href:"/#"},n("login__forgot_password")))))}var Q=new(function(){function e(){Object(O.a)(this,e),this.supportedLocales=new Set(["en","de"]),this.defaultLocale="en",this.routes={profile:{path:{en:"profile",de:"profil"},component:K,authorizedRoles:["ROLE_USER","ROLE_ADMIN"]},login:{path:{en:"login",de:"login"},component:$,authorizedRoles:null}}}return Object(k.a)(e,[{key:"getPathRegex",value:function(e){var a=":locale(".concat(Object(n.a)(this.supportedLocales).join("|"),")"),t=Object.values(this.routes[e].path).join("|");return"/".concat(a,"/(").concat(t,")")}},{key:"getHomeRegex",value:function(){var e=":locale(".concat(Object(n.a)(this.supportedLocales).join("|"),")");return"/".concat(e,"/")}},{key:"getRelativeUrl",value:function(e,a){return"/".concat(e,"/").concat(this.routes[a].path[e])}}]),e}()),X=Q.defaultLocale,ee=Object(n.a)(Q.supportedLocales).join("|"),ae=new RegExp("^/(".concat(ee,")/?"));ae.test(window.location.pathname)&&(X=window.location.pathname.match(ae)[1]),j.a.init({interpolation:{escapeValue:!1},lng:X,fallbackLng:Q.defaultLocale,resources:{en:{translation:{success__updated:"Updated successfully!",success__login:"Logged in successfully!",errors__invalid_credentials:"Invalid credentials, please try again!",errors__unknown:"Unknown error, please try again or contact us!",header__profile:"Profile",header__admin_area:"Admin area",header__logout:"Logout",header__choose_language:"Language",login__heading:"Login",login__go_to_registration:"Go to registration",login__email_label:"Email",login__password_label:"Password",login__forgot_password:"Forgot password",login__login_button_label:"Login",profile__heading:"Profile",profile__go_to_registration:"Go to registration",login__first_name_label:"First name",login__last_name_label:"Last name",profile__save_button_label:"Save"}},de:{translation:{success__updated:"Erfolgreich bearbeitet!",success__login:"Erfolgreich eingeloggt!",errors__invalid_credentials:"Ung\xfcltige Zugangsdaten, bitte versuchen sie es erneut!",errors__unknown:"Unbekannter Fehler, bitte versuchen Sie es erneut oder kontaktieren Sie uns!",header__profile:"Profil",header__admin_area:"Adminbereich",header__logout:"Logout",header__choose_language:"Sprache",login__heading:"Login",login__go_to_registration:"Zur Registrierung",login__email_label:"E-Mail",login__password_label:"Passwort",login__forgot_password:"Passwort vergessen",login__login_button_label:"Login",profile__heading:"Profil",profile__go_to_registration:"Zur Registrierung",login__first_name_label:"Vorname",login__last_name_label:"Nachname",profile__save_button_label:"Speichern"}}}}),c.a.render(l.a.createElement(E.a,{i18n:j.a},l.a.createElement(y,{routing:Q})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[103,1,2]]]);
//# sourceMappingURL=main.08e2257e.chunk.js.map